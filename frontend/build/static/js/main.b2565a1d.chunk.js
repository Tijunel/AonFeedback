(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{47:function(e,t,a){e.exports=a.p+"static/media/welcome.6f58be36.svg"},56:function(e,t,a){e.exports=a(82)},62:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){e.exports=a.p+"static/media/CaptureImage.39c2ead2.svg"},69:function(e,t,a){e.exports=a.p+"static/media/question.b7c3a851.svg"},71:function(e,t,a){},75:function(e,t,a){e.exports=a.p+"static/media/security.64810998.svg"},76:function(e,t,a){},77:function(e,t,a){e.exports=a.p+"static/media/signIn.f4731b88.svg"},78:function(e,t,a){},79:function(e,t,a){e.exports=a.p+"static/media/signUp.249076ab.svg"},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var r=a(6),n=a(9),o=a(8),s=a(10),c=a(0),l=a.n(c),i=a(21),u=a.n(i),m=a(27),p=a(25),d=a(48),h=(a(62),a(92)),f=a(91),w=(a(63),function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(a=Object(n.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return l.a.createElement(h.a,{id:"topNav",fixed:"top",style:{background:"#3ABEFF",minWidth:"500px"}},l.a.createElement(h.a.Brand,{href:"/"},l.a.createElement("b",{style:{color:"#FFF"}},"Aon Feedback")),l.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a,{className:"ml-auto"},l.a.createElement(f.a.Item,null,l.a.createElement(f.a.Link,{href:"/access",style:{color:"#FFF"}},"Enter Access Code \xa0\xa0\xa0|")),l.a.createElement(f.a.Item,null,l.a.createElement(f.a.Link,{href:"/signUp",style:{color:"#FFF"}},"Sign Up \xa0\xa0\xa0|")),l.a.createElement(f.a.Item,null,l.a.createElement(f.a.Link,{href:"/signIn",style:{color:"#FFF"}},"Sign In"))))},a}return Object(s.a)(t,e),t}(l.a.Component)),b=a(84),E=a(85),g=a(86),y=a(52),v=(a(67),function(e){function t(){var e,s;Object(r.a)(this,t);for(var c=arguments.length,i=new Array(c),u=0;u<c;u++)i[u]=arguments[u];return(s=Object(n.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).render=function(){return l.a.createElement("div",{id:"home"},l.a.createElement(w,null),l.a.createElement(b.a,{style:{width:"100%",backgroundColor:"#FFF",borderRadius:"0",textAlign:"center",marginTop:"56px"}},l.a.createElement(E.a,{src:a(68),style:{width:"100vw",minWidth:"150px",maxWidth:"1000px"}}),l.a.createElement("b",{style:{fontSize:"calc(3.8vw + 0.6rem)"}},l.a.createElement("br",null),"Anonymous Feedback, Done Right.",l.a.createElement("br",null)),l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"100%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"left",lineHeight:"1.2",maxWidth:"900px"}},"Aon Feedback is dedicated to providing a safe platform for corporate organizations to receive real, genuine feedback from employees. We ensure the anonymity of employees to take the stigma and fear out of providing feedback. We will never store information about employees, only their thoughts for improvement.")),l.a.createElement(b.a,{style:{width:"100%",backgroundColor:"#FFF",borderRadius:"0",textAlign:"center"}},l.a.createElement("b",{style:{fontSize:"calc(3.8vw + 0.6rem)"}},"How It Works",l.a.createElement("br",null)),l.a.createElement(E.a,{src:a(69),style:{width:"20vw",minWidth:"150px",maxWidth:"500px"}}),l.a.createElement(g.a,null,l.a.createElement(y.a,null,l.a.createElement("b",{style:{fontSize:"calc(2.2vw + 0.6rem)"}},"Looking To Get Feedback?",l.a.createElement("br",null)),l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"100%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"left",lineHeight:"1.2",maxWidth:"600px",marginBottom:"20px",height:"16vw"}},"Our platform allows you to receive feedback in one of two ways: ",l.a.createElement("br",null),l.a.createElement("br",null),"1) Create an open discussion where employees can comment and respond to one another.",l.a.createElement("br",null),l.a.createElement("br",null),"2) Receive private feedback in your feedbox. ",l.a.createElement("br",null),l.a.createElement("br",null),"Ready to get started? Sign up ",l.a.createElement("a",{href:"/signUp"},"here"))),l.a.createElement(y.a,null,l.a.createElement("b",{style:{fontSize:"calc(2.2vw + 0.6rem)"}},"Looking To Give Feedback?",l.a.createElement("br",null)),l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"100%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"left",lineHeight:"1.2",maxWidth:"600px",marginBottom:"20px",height:"16vw"}},"Your organization will provide you with an access code, which will take you to a dashboard where you can share your ideas.",l.a.createElement("br",null),l.a.createElement("br",null),"You will be able to send private feedback, or join the discussion in one of the forums created by your organization. ",l.a.createElement("br",null),l.a.createElement("br",null),"Already have an access code? Enter it ",l.a.createElement("a",{href:"/access"},"here"))))),l.a.createElement(b.a,{style:{width:"100%",backgroundColor:"#FFF",borderRadius:"0",textAlign:"center",marginTop:"-100px"}},l.a.createElement("b",{style:{fontSize:"calc(3.8vw + 0.6rem)"}},l.a.createElement("br",null),"Want to give us feedback?",l.a.createElement("br",null)),l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"100%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"center",lineHeight:"1.2",maxWidth:"900px"}},"Enter the access code 1ZSHG2JB ",l.a.createElement("a",{href:"/access"},"here"),".")))},s}return Object(s.a)(t,e),t}(l.a.Component)),x=a(2),M=a.n(x),F=a(7),C=a(90),k=a(87),S=a(89),T=function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(a=Object(n.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).showModal=function(){a.props.hideModal()},a.render=function(){return l.a.createElement(S.a,{id:"newForumModal",show:a.props.showModal,onHide:a.showModal,centered:!0},l.a.createElement(S.a.Header,{closeButton:!0},l.a.createElement(S.a.Title,null,l.a.createElement("b",{style:{fontSize:"25px"}},"Error"))),l.a.createElement(S.a.Body,{style:{fontSize:"17px"}},a.props.message,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(k.a,{className:"createAForumButton",onClick:a.props.hideModal},l.a.createElement("b",null,"Got It!"))))},a}return Object(s.a)(t,e),t}(l.a.Component),O=(a(71),function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(n.a)(this,Object(o.a)(t).call(this,e))).submitAccessCode=function(){""!==s.accessForm.current.value?fetch("/api/access/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessCode:s.accessForm.current.value})}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}s.setState({showErrorModal:!0,errorMessage:"Oops! Something went wrong!"}),e.next=8;break;case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){sessionStorage.setItem("forumName",e.name),sessionStorage.setItem("forumID",e.forumID),s.setState({redirect:!0})})).catch((function(e){s.setState({showErrorModal:!0,errorMessage:"Oops! Something went wrong!"})})):s.setState({showErrorModal:!0,errorMessage:"Oops! Looks like you forget to enter your access code!"})},s.showErrorModal=function(){s.setState({showErrorModal:!s.state.showErrorModal})},s.render=function(){return s.state.redirect?l.a.createElement(p.a,{to:"/AccessDash"}):l.a.createElement("div",{id:"access"},l.a.createElement(w,null),l.a.createElement(E.a,{src:a(75),id:"image"}),l.a.createElement("p",{id:"text"},"We will never store any personally identifiable information about you. Your anonymity is our top priority."),l.a.createElement(C.a,{className:"accessCodeForm"},l.a.createElement(C.a.Group,{controlId:"name"},l.a.createElement(C.a.Control,{className:"control",ref:s.accessForm,placeholder:"Access Code",type:"text",autoComplete:"on",required:!0,onKeyPress:s.handleKeyPress}))),l.a.createElement(k.a,{className:"submitButton",onClick:s.submitAccessCode},l.a.createElement("b",null,"Submit")),l.a.createElement(T,{showModal:s.state.showErrorModal,hideModal:s.showErrorModal,message:s.state.errorMessage}))},s.accessForm=l.a.createRef(),s.state={redirect:!1,showErrorModal:!1,errorMessage:""},s}return Object(s.a)(t,e),t}(l.a.Component)),j=(a(76),function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(n.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){s.emailForm.current.focus()},s.handleKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),""===s.passForm.current.value?s.passwordForm.current.focus():""===s.emailForm.current.value?s.emailForm.current.focus():s.submitInfo())},s.submitInfo=function(){""!==s.passForm.current.value?""!==s.emailForm.current.value?fetch("/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.emailForm.current.value,password:s.passForm.current.value})}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}s.setState({showErrorModal:!0,errorMessage:"Oops! Something went wrong!"}),e.next=8;break;case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){sessionStorage.setItem("name",e.name),sessionStorage.setItem("email",e.email),s.setState({redirect:!0})})).catch((function(e){s.setState({showErrorModal:!0,errorMessage:"Oops! Something went wrong!"})})):s.setState({showErrorModal:!0,errorMessage:"Oops! Looks like you forgot to enter your email!"}):s.setState({showErrorModal:!0,errorMessage:"Oops! Looks like you forgot to enter your password!"})},s.showErrorModal=function(){s.setState({showErrorModal:!s.state.showErrorModal})},s.render=function(){return s.state.redirect?l.a.createElement(p.a,{to:"/dashboard"}):l.a.createElement("div",{id:"signIn"},l.a.createElement(w,null),l.a.createElement(E.a,{src:a(77),style:{width:"70vw",minWidth:"150px",maxWidth:"600px",textAlign:"center",marginTop:"80px"}}),l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"50%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"left",lineHeight:"1.2",maxWidth:"700px",marginBottom:"40px"}},"Your feedback is waiting! We just need some information first."),l.a.createElement(C.a,{className:"form"},l.a.createElement(C.a.Group,{controlId:"email"},l.a.createElement(C.a.Control,{ref:s.emailForm,className:"control",placeholder:"Email",type:"text",autoComplete:"on",required:!0,onKeyPress:s.handleKeyPress}))),l.a.createElement(C.a,{className:"form"},l.a.createElement(C.a.Group,{controlId:"password"},l.a.createElement(C.a.Control,{ref:s.passForm,className:"control",placeholder:"Password",type:"password",required:!0,onKeyPress:s.handleKeyPress}))),l.a.createElement(k.a,{className:"submitButton",onClick:s.submitInfo},l.a.createElement("b",null,"Submit")),l.a.createElement(T,{showModal:s.state.showErrorModal,hideModal:s.showErrorModal,message:s.state.errorMessage}))},s.emailForm=l.a.createRef(),s.passForm=l.a.createRef(),s.state={redirect:!1,showErrorModal:!1,errorMessage:""},s}return Object(s.a)(t,e),t}(l.a.Component)),I=(a(78),function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(n.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){s.emailForm.current.focus()},s.handleKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),""===s.emailForm.current.value?s.emailForm.current.focus():""===s.nameForm.current.value?s.nameForm.current.focus():""===s.passForm.current.value?s.passForm.current.focus():""===s.rePassForm.current.value?s.rePassForm.current.focus():s.submitInfo())},s.submitInfo=function(){var e=""===s.emailForm.current.value,t=""===s.nameForm.current.value,a=""===s.passForm.current.value,r=""===s.rePassForm.current.value;if(e||t||a||r)s.setState({showModal:!0,message:"All fields must be filled."});else if(s.passForm.current.value===s.rePassForm.current.value){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s.emailForm.current.value)?fetch("/api/user/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.emailForm.current.value,password:s.passForm.current.value,username:s.nameForm.current.value})}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}s.setState({showModal:!0,message:"Oops! Something went wrong."}),e.next=8;break;case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){sessionStorage.setItem("name",e.name),sessionStorage.setItem("email",e.email),s.setState({redirect:!0})})).catch((function(e){s.setState({showModal:!0,message:"Oops! Something went wrong."})})):s.setState({showModal:!0,message:"Oops! Please enter a valid email."})}else s.setState({showModal:!0,message:"Both passwords must match."})},s.hideModal=function(){s.setState({showModal:!1})},s.render=function(){return s.state.redirect?l.a.createElement(p.a,{to:"/dashboard"}):l.a.createElement("div",{id:"signUp"},l.a.createElement(w,null),l.a.createElement(E.a,{src:a(79),style:{width:"70vw",minWidth:"150px",maxWidth:"600px",textAlign:"center",marginTop:"80px"}}),l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"50%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"left",lineHeight:"1.2",maxWidth:"700px",marginBottom:"40px"}},"We're excited to bring you onboard! We just need some information to get you started, your feedback is on its way!"),l.a.createElement(T,{showModal:s.state.showModal,message:s.state.message,hideModal:s.hideModal}),l.a.createElement(C.a,{className:"form"},l.a.createElement(C.a.Group,{controlId:"email"},l.a.createElement(C.a.Control,{ref:s.emailForm,className:"control",placeholder:"Email",type:"text",autoComplete:"on",required:!0,onKeyPress:s.handleKeyPress}))),l.a.createElement(C.a,{className:"form"},l.a.createElement(C.a.Group,{controlId:"name"},l.a.createElement(C.a.Control,{ref:s.nameForm,className:"control",placeholder:"Organization Name",type:"text",required:!0,onKeyPress:s.handleKeyPress}))),l.a.createElement(C.a,{className:"form"},l.a.createElement(C.a.Group,{controlId:"password"},l.a.createElement(C.a.Control,{ref:s.passForm,className:"control",placeholder:"Password",type:"password",required:!0,onKeyPress:s.handleKeyPress}))),l.a.createElement(C.a,{className:"form"},l.a.createElement(C.a.Group,{controlId:"password"},l.a.createElement(C.a.Control,{ref:s.rePassForm,className:"control",placeholder:"Re-Enter Password",type:"password",required:!0,onKeyPress:s.handleKeyPress}))),l.a.createElement(k.a,{className:"submitButton",onClick:s.submitInfo},l.a.createElement("b",null,"Submit")))},s.emailForm=l.a.createRef(),s.nameForm=l.a.createRef(),s.passForm=l.a.createRef(),s.rePassForm=l.a.createRef(),s.state={redirect:!1,showModal:!1,message:""},s}return Object(s.a)(t,e),t}(l.a.Component)),D=function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(a=Object(n.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return l.a.createElement(h.a,{id:"topNav",fixed:"top",style:{background:"#3ABEFF",minWidth:"500px"}},l.a.createElement(h.a.Brand,{href:"/"},l.a.createElement("b",{style:{color:"#FFF"}},"Aon Feedback")),l.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a,{className:"ml-auto"},l.a.createElement(f.a.Item,null,l.a.createElement(f.a.Link,{style:{color:"#FFF"},onClick:a.props.goToForum},"Forum \xa0\xa0\xa0|")),l.a.createElement(f.a.Item,null,l.a.createElement(f.a.Link,{style:{color:"#FFF"},onClick:a.props.goToPrivateFeedback},"Submit Private Feedback"))))},a}return Object(s.a)(t,e),t}(l.a.Component);var A=function e(){Object(r.a)(this,e),this.getPrivateFeedback=Object(F.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/feedback/getFeedback",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}return e.abrupt("return",{error:"Error"});case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{error:"Error"}}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.postPrivateFeedback=function(){var e=Object(F.a)(M.a.mark((function e(t,a){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/feedback/submitFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,name:a})}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return!1}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getTopic=function(){var e=Object(F.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/forum/getTopic/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}return e.abrupt("return",{error:"Error"});case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{error:"Error"}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.postTopic=function(){var e=Object(F.a)(M.a.mark((function e(t,a){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/forum/postTopic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topicName:t,forumID:a})}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}return e.abrupt("return",{error:"Error"});case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{error:"Error"}}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.postForum=function(){var e=Object(F.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/forum/postForum",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}return e.abrupt("return",{error:"Error"});case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{error:"Error"}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getForums=Object(F.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/forum/getForums",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}return e.abrupt("return",{error:"Error"});case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{error:"Error"}}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.getForum=function(){var e=Object(F.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/forum/getForum/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}return e.abrupt("return",{error:"Error"});case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{error:"Error"}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.postComment=function(){var e=Object(F.a)(M.a.mark((function e(t,a){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/forum/postComment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parentID:t,message:a})}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}return e.abrupt("return",{error:"Error"});case 4:return e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{error:"Error"}}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.deleteEvent=function(){var e=Object(F.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/forum/deleteEvent",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({ID:t})}).then(function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return!1}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};A.instance=null,A.getInstance=function(){return null===A.instance&&(A.instance=new A),A.instance};var N,P=function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(a=Object(n.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).showModal=function(){a.props.hideModal()},a.notifyEmptyText=function(e){a.props.reference.current.placeholder=e},a.render=function(){return l.a.createElement(S.a,{id:"newForumModal",show:a.props.showModal,onHide:a.showModal,centered:!0},l.a.createElement(S.a.Header,{closeButton:!0},l.a.createElement(S.a.Title,null,l.a.createElement("b",{style:{fontSize:"25px"}},a.props.title))),l.a.createElement(S.a.Body,{style:{fontSize:"17px"}},a.props.message,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(C.a,{className:"form"},l.a.createElement(C.a.Group,{controlId:"none"},l.a.createElement(C.a.Control,{ref:a.props.reference,className:"control",placeholder:a.props.placeholder,as:"textarea",rows:"10",required:!0,style:{height:"300px"},autoComplete:"nope"}))),l.a.createElement(k.a,{className:"createAForumButton",onClick:a.props.create},l.a.createElement("b",null,"Submit"))))},a}return Object(s.a)(t,e),t}(l.a.Component),B=function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(a=Object(n.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).showModal=function(){a.props.hideModal()},a.render=function(){return l.a.createElement(S.a,{id:"newForumModal",show:a.props.showModal,onHide:a.props.hideModal,centered:!0},l.a.createElement(S.a.Header,{closeButton:!0},l.a.createElement(S.a.Title,null,l.a.createElement("b",{style:{fontSize:"25px"}},a.props.title))),l.a.createElement(S.a.Body,{style:{fontSize:"17px"}},a.props.message,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(k.a,{className:"createAForumButton",onClick:a.props.delete},l.a.createElement("b",null,a.props.buttonTitle))))},a}return Object(s.a)(t,e),t}(l.a.Component),R=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).componentWillMount=function(){var e=!0,r=!1,n=void 0;try{for(var o,s=a.props.replies[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var c=o.value;a.repliesUI.push(l.a.createElement(t,{message:c.message,replies:c.replies,ID:c.id,parentID:c.parentID,isCompany:a.props.isCompany,depth:a.props.depth+1,key:c.id}))}}catch(i){r=!0,n=i}finally{try{e||null==s.return||s.return()}finally{if(r)throw n}}},a.addReply=function(e,r){a.repliesUI.push(l.a.createElement(t,{message:e,replies:[],ID:r,parentID:a.props.ID,isCompany:a.props.isCompany,depth:a.props.depth+1,key:r}))},a.createReply=Object(F.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.props.depth+1>7)){e.next=3;break}return a.setState({showErrorModal:!0,errorMessage:"Max reply depth reached."}),e.abrupt("return");case 3:return e.next=5,a.state.apiHelper.postComment(a.props.ID,a.messageForm.current.value);case 5:(t=e.sent).error?a.setState({showErrorModal:!0,errorMessage:"Could not save your reply. Try again later."}):a.addReply(a.messageForm.current.value,t.ID),a.showCommentModal();case 8:case"end":return e.stop()}}),e)}))),a.deleteComment=Object(F.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.apiHelper.deleteEvent(a.props.ID);case 2:e.sent?a.setState({hideComment:!0}):a.setState({showErrorModal:!0,showConfirmationModal:!1,errorMessage:"Could not delete the comment. Try again later."});case 4:case"end":return e.stop()}}),e)}))),a.showCommentModal=function(){a.setState({showCommentModal:!a.state.showCommentModal})},a.showConfirmationModal=function(){a.setState({showConfirmationModal:!a.state.showConfirmationModal})},a.showErrorModal=function(){a.setState({showErrorModal:!a.showErrorModal})},a.render=function(){return a.state.hideComment?l.a.createElement("div",null):l.a.createElement("div",null,l.a.createElement("div",{style:{width:"100%",textAlign:"left",margin:"auto",borderWidth:"1px",borderColor:"#AAA",borderStyle:"solid",fontSize:"20px",marginBottom:"10px"},onClick:a.getComments},l.a.createElement("div",{style:{margin:"5px"}},a.state.message),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement(k.a,{className:"clearButton",onClick:a.showCommentModal},l.a.createElement("b",null,"Reply")),l.a.createElement(k.a,{className:"clearButton",onClick:a.showConfirmationModal,style:{display:a.props.isCompany?"":"none"}},l.a.createElement("b",null,"Delete")))),l.a.createElement("div",{style:{display:a.repliesUI.length>0?"":"none",marginLeft:"10px",marginRight:"0",paddingLeft:"10px",marginBottom:"10px",borderLeft:"1px solid",borderColor:"#AAA"}},l.a.createElement("div",{style:{marginLeft:"10px"}},l.a.createElement("div",{style:{marginTop:"10px"}},a.repliesUI))),l.a.createElement(P,{showModal:a.state.showCommentModal,hideModal:a.showCommentModal,title:"Reply",message:"Enter your reply below",reference:a.messageForm,placeholder:"Your Reply",create:a.createReply}),l.a.createElement(B,{showModal:a.state.showConfirmationModal,hideModal:a.showConfirmationModal,title:"Confirmation",message:"Are you sure you want to delete this comment?",delete:a.deleteComment,buttonTitle:"Yes!"}),l.a.createElement(T,{showModal:a.state.showErrorModal,hideModal:a.showErrorModal,message:a.state.errorMessage}))},a.messageForm=l.a.createRef(),a.state={message:a.props.message,parentID:a.props.parentID,ID:a.props.ID,showCommentModal:!1,showConfirmationModal:!1,showErrorModal:!1,errorMessage:"",hideComment:!1,apiHelper:A.getInstance()},a.repliesUI=[],a}return Object(s.a)(t,e),t}(l.a.Component),W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).getComments=Object(F.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.commentsUI=[],a.state.showComments){e.next=9;break}return e.next=4,a.state.apiHelper.getTopic(a.props.id);case 4:(t=e.sent).error?a.setState({showErrorModal:!0,errorMessage:"Could not fetch comments. Please try again later."}):a.generateRootComments(t.comments),a.setState({showComments:!0}),e.next=10;break;case 9:a.setState({showComments:!1});case 10:case"end":return e.stop()}}),e)}))),a.generateRootComments=function(e){var t=!0,r=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=o.value;a.commentsUI.push(l.a.createElement(R,{message:c.message,replies:c.replies,ID:c.id,parentID:a.props.id,depth:0,isCompany:a.props.isCompany,key:c.id}))}}catch(i){r=!0,n=i}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}},a.addRootComment=function(e,t){a.commentsUI.push(l.a.createElement(R,{message:e,replies:[],ID:t,parentID:a.props.id,depth:0,isCompany:a.props.isCompany,key:t}))},a.createRootComment=Object(F.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.messageForm.current.value){e.next=3;break}return a.postModal.current.notifyEmptyText("Oops! Please write out your comment."),e.abrupt("return");case 3:return e.next=5,a.state.apiHelper.postComment(a.props.id,a.messageForm.current.value);case 5:(t=e.sent).error?a.setState({showErrorModal:!0,errorMessage:"Could not upload comment. Please try again later."}):a.addRootComment(a.messageForm.current.value,t.ID),a.showCommentModal();case 8:case"end":return e.stop()}}),e)}))),a.deleteTopic=Object(F.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.apiHelper.deleteEvent(a.props.id);case 2:e.sent?(a.props.deleteFromTopicData(a.props.id),a.setState({hideTopic:!0})):a.setState({showErrorModal:!0,showConfirmationModal:!1,errorMessage:"Could not delete topic. Please try again later."});case 4:case"end":return e.stop()}}),e)}))),a.showCommentModal=function(){a.setState({showCommentModal:!a.state.showCommentModal})},a.showConfirmationModal=function(){a.setState({showConfirmationModal:!a.state.showConfirmationModal})},a.showErrorModal=function(){a.setState({showErrorModal:!a.state.showErrorModal})},a.render=function(){return a.state.hideTopic?l.a.createElement("div",null):l.a.createElement("div",null,l.a.createElement(g.a,{style:{width:"100%",textAlign:"center",margin:"auto",borderWidth:"1px",borderColor:"#AAA",borderStyle:"solid",fontSize:"20px",marginBottom:"10px"}},l.a.createElement(y.a,{style:{textAlign:"left"}},l.a.createElement("b",null,a.props.name)),l.a.createElement(y.a,{xs:1,style:{textAlign:"right"}},l.a.createElement(k.a,{className:"clearButton",onClick:a.showConfirmationModal,style:{display:a.props.isCompany?"":"none"}},l.a.createElement("b",null,"Delete"))),l.a.createElement(y.a,{xs:1,style:{textAlign:"right"}},l.a.createElement("b",null,l.a.createElement(k.a,{className:"clearButton",onClick:a.getComments},l.a.createElement("b",null,a.state.showComments?"Close":"Expand"))))),l.a.createElement("div",{style:{display:a.state.showComments?"":"none",marginLeft:"10px",marginRight:"0",paddingLeft:"10px",marginBottom:"50px"}},l.a.createElement("div",{style:{marginLeft:"10px"}},l.a.createElement(k.a,{className:"createAForumButton",onClick:a.showCommentModal},l.a.createElement("b",null,"Create A New Comment")),l.a.createElement("div",{style:{marginTop:"20px"}},a.commentsUI))),l.a.createElement(P,{showModal:a.state.showCommentModal,hideModal:a.showCommentModal,title:"Create Comment",message:"Enter your message below.",reference:a.messageForm,placeholder:"Message",create:a.createRootComment,ref:a.postModal}),l.a.createElement(B,{showModal:a.state.showConfirmationModal,hideModal:a.showConfirmationModal,title:"Confirmation",message:"Are you sure you want to delete this topic?",delete:a.deleteTopic,buttonTitle:"Yes!"}),l.a.createElement(T,{showModal:a.state.showErrorModal,hideModal:a.showErrorModal,message:a.state.errorMessage}))},a.messageForm=l.a.createRef(),a.postModal=l.a.createRef(),a.state={showComments:!1,showCommentModal:!1,hideTopic:!1,showErrorModal:!1,errorMessage:"",apiHelper:A.getInstance()},a.commentsUI=[],a}return Object(s.a)(t,e),t}(l.a.Component),H=function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(n.a)(this,Object(o.a)(t).call(this,e))).componentWillMount=Object(F.a)(M.a.mark((function e(){var t,a,r,n,o,c,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===localStorage.getItem("showAccessIntro")&&(localStorage.setItem("showAccessIntro",!0),s.setState({showIntro:!0})),e.next=3,s.state.apiHelper.getForum(sessionStorage.getItem("forumID"));case 3:if((t=e.sent).error){e.next=29;break}for(s.topicsData=[],a=!0,r=!1,n=void 0,e.prev=9,o=t.topics[Symbol.iterator]();!(a=(c=o.next()).done);a=!0)l=c.value,s.topicsData.push(l);e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),r=!0,n=e.t0;case 17:e.prev=17,e.prev=18,a||null==o.return||o.return();case 20:if(e.prev=20,!r){e.next=23;break}throw n;case 23:return e.finish(20);case 24:return e.finish(17);case 25:s.topicsData.length>0&&s.setState({showSearch:!0}),s.generateTopics(s.topicsData),e.next=30;break;case 29:s.setState({showErrorModal:!0,errorMessage:"Could not fetch topics. Try again later."});case 30:s.setState({showTopics:!0});case 31:case"end":return e.stop()}}),e,null,[[9,13,17,25],[18,,20,24]])}))),s.getStarted=function(){localStorage.setItem("showAccessIntro",!1),s.setState({showIntro:!1})},s.updateFields=function(){var e=s.searchForm.current.value.toUpperCase(),t=[];for(var a in s.topicsData){s.topicsData[a].name.toUpperCase().includes(e)&&t.push(s.topicsData[a])}s.generateTopics(t)},s.generateTopics=function(e){s.topicsUI=[];var t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var c=n.value;s.topicsUI.push(l.a.createElement(W,{name:c.name,id:c.ID,isCompany:!1}))}}catch(i){a=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}s.forceUpdate()},s.addTopic=function(e,t){s.topicsData.push({name:e,ID:t}),s.topicsUI.push(l.a.createElement(W,{name:e,id:t,isCompany:!1})),s.setState({showSearch:!0})},s.createTopic=Object(F.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==s.nameForm.current.value){e.next=3;break}return s.postModal.current.notifyEmptyText("Oops! Please provide a name for the topic."),e.abrupt("return");case 3:return e.next=5,s.state.apiHelper.postTopic(s.nameForm.current.value,sessionStorage.getItem("forumID"));case 5:(t=e.sent).error?s.setState({showErrorModal:!0,errorMessage:"Could not create topic. Try again later."}):s.addTopic(s.nameForm.current.value,t.ID),s.showTopicModal();case 8:case"end":return e.stop()}}),e)}))),s.showTopicModal=function(){s.setState({showTopicModal:!s.state.showTopicModal})},s.showErrorModal=function(){s.setState({showErrorModal:!s.state.showErrorModal})},s.render=function(){return l.a.createElement("div",{id:"accessDash",style:{marginTop:"100px"}},l.a.createElement("div",{style:{display:s.state.showIntro?"":"none"}},l.a.createElement(E.a,{src:a(47),style:{width:"70vw",minWidth:"150px",maxWidth:"600px",textAlign:"center"}}),l.a.createElement("b",{style:{fontSize:"calc(3.8vw + 0.6rem)"}},l.a.createElement("br",null),"Welcome!",l.a.createElement("br",null)),l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"50%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"left",lineHeight:"1.2",maxWidth:"900px",marginBottom:"40px"}},"You are now able to comment, respond to comments, and submit private feedback. Remember, all of your feedback is completely anonymous, so tell your organization what you really think! Just remember, keep it professional, civil, and respectful.")),l.a.createElement(k.a,{className:"createForumButton",onClick:s.getStarted},l.a.createElement("b",null,"Get Started"))),l.a.createElement("div",{style:{display:s.state.showIntro?"none":""}},l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"50%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"left",lineHeight:"1.2",maxWidth:"900px",marginBottom:"40px"}},"You can start commenting on this forum now! Remember to keep it professional, civil, and respectful.")),l.a.createElement("b",{style:{fontSize:"calc(3.8vw + 0.6rem)"}},sessionStorage.getItem("forumName")),l.a.createElement("div",null,l.a.createElement("div",{style:{width:"90%",margin:"auto"}},l.a.createElement("div",null,l.a.createElement(k.a,{className:"createAForumButton",onClick:s.showTopicModal},l.a.createElement("b",null,"Create A New Topic")),l.a.createElement(C.a,{className:"form",style:{display:s.state.showSearch?"":"none"}},l.a.createElement(C.a.Group,{controlId:"none"},l.a.createElement(C.a.Control,{ref:s.searchForm,className:"control",placeholder:"Search",type:"text",autoComplete:"nope",required:!0,onChange:s.updateFields,style:{width:"70%"}}))),l.a.createElement("div",{style:{marginTop:"20px"}},s.topicsUI))),l.a.createElement(P,{showModal:s.state.showTopicModal,hideModal:s.showTopicModal,title:"Create Topic",message:"Enter the topic's name below.",reference:s.nameForm,placeholder:"Topic Name",create:s.createTopic,ref:s.postModal}),l.a.createElement(T,{showModal:s.state.showErrorModal,hideModal:s.showErrorModal,message:s.state.errorMessage}))))},s.searchForm=l.a.createRef(),s.nameForm=l.a.createRef(),s.postModal=l.a.createRef(),s.state={showIntro:"true"===localStorage.getItem("showAccessIntro"),showTopicModal:!1,showErrorModal:!1,errorMessage:"",showSearch:!1,apiHelper:A.getInstance()},s.topicsData=[],s.topicsUI=[],s}return Object(s.a)(t,e),t}(l.a.Component),U=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).submitPrivateFeedback=Object(F.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.feedbackForm.current.value){e.next=3;break}return a.setState({showErrorModal:!0,errorMessage:"You didn't provide any feedback. Please enter your feedback."}),e.abrupt("return");case 3:return e.next=5,a.state.apiHelper.postPrivateFeedback(a.feedbackForm.current.value,sessionStorage.getItem("forumName"));case 5:e.sent?a.setState({showConfirmationModal:!0}):a.setState({showErrorModal:!0,errorMessage:"Your feedback could not be submitted. Try again later."});case 7:case"end":return e.stop()}}),e)}))),a.showConfirmationModal=function(){a.setState({showConfirmationModal:!a.state.showConfirmationModal})},a.showErrorModal=function(){a.setState({showErrorModal:!a.state.showErrorModal})},a.render=function(){return l.a.createElement("div",{id:"accessDash"},l.a.createElement("b",{style:{fontSize:"calc(3.8vw + 0.6rem)"}},l.a.createElement("br",null),"Submit Your Private Feedback",l.a.createElement("br",null)),l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"50%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"left",lineHeight:"1.2",maxWidth:"900px",marginBottom:"40px"}},"This feedback won't be seen by anyone except priveleged members of your organization. Before submitting, ensure that this is the feedback you want to provide, as you won't be able to see it again.")),l.a.createElement(C.a,{className:"feedback"},l.a.createElement(C.a.Group,{controlId:"email"},l.a.createElement(C.a.Control,{ref:a.feedbackForm,className:"control",placeholder:"Your Feedback",as:"textarea",rows:"10",required:!0}))),l.a.createElement(k.a,{className:"createForumButton",onClick:a.submitPrivateFeedback},l.a.createElement("b",null,"Submit")),l.a.createElement(B,{showModal:a.state.showConfirmationModal,hideModal:a.showConfirmationModal,title:"Submitted",message:"Your feedback has been submitted!",delete:a.showConfirmationModal,buttonTitle:"Got It!"}),l.a.createElement(T,{showModal:a.state.showErrorModal,hideModal:a.showErrorModal,message:a.state.errorMessage}))},a.state={showConfirmationModal:!1,showErrorModal:!1,errorMessage:"",apiHelper:A.getInstance()},a.feedbackForm=l.a.createRef(),a}return Object(s.a)(t,e),t}(l.a.Component),z=(a(80),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).goToPrivateFeedback=function(){a.setState({showForum:!1})},a.goToForum=function(){a.setState({showForum:!0})},a.render=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{goToPrivateFeedback:a.goToPrivateFeedback,goToForum:a.goToForum}),a.state.showForum?l.a.createElement(H,null):l.a.createElement(U,null))},a.state={showForum:!0},a}return Object(s.a)(t,e),t}(l.a.Component)),L=(N=z,function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(n.a)(this,Object(o.a)(t).call(this))).periodicallyCheckToken=function(){fetch("/api/access/checkAccessToken",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){e.setState({loading:!1,redirect:!0})}))},e.componentDidMount=function(){fetch("/api/access/checkAccessToken",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){e.setState({loading:!1,redirect:!0})})),e.timerID=setInterval((function(){return e.periodicallyCheckToken()}),3e4)},e.render=function(){var t=e.state,a=t.loading,r=t.redirect;return a?null:r?l.a.createElement(p.a,{to:"/access"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(N,null))},e.state={loading:!1,redirect:!1},e}return Object(s.a)(t,e),t}(l.a.Component)),G=function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(a=Object(n.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return l.a.createElement(h.a,{id:"topNav",fixed:"top",style:{background:"#3ABEFF",minWidth:"500px"}},l.a.createElement(h.a.Brand,{href:"/"},l.a.createElement("b",{style:{color:"#FFF"}},"Aon Feedback")),l.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a,{className:"ml-auto"},l.a.createElement(f.a.Item,null,l.a.createElement(f.a.Link,{style:{color:"#FFF"},onClick:a.props.goToForum},"Forum \xa0\xa0\xa0|")),l.a.createElement(f.a.Item,null,l.a.createElement(f.a.Link,{style:{color:"#FFF"},onClick:a.props.goToPrivateFeedback},"View Private Feedback"))))},a}return Object(s.a)(t,e),t}(l.a.Component);var K=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).deleteFromTopicData=function(e){var t=[];for(var r in a.topicsData){a.topicsData[r].ID!==e&&t.push(a.topicsData[r])}0===t.length&&a.setState({showSearch:!1}),a.topicsData=t,a.generateTopics(a.topicsData)},a.getTopics=Object(F.a)(M.a.mark((function e(){var t,r,n,o,s,c,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.topicsUI=[],a.state.showTopics){e.next=34;break}return e.next=4,a.state.apiHelper.getForum(a.props.accessCode);case 4:if((t=e.sent).error){e.next=30;break}for(a.topicsData=[],r=!0,n=!1,o=void 0,e.prev=10,s=t.topics[Symbol.iterator]();!(r=(c=s.next()).done);r=!0)l=c.value,a.topicsData.push(l);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),n=!0,o=e.t0;case 18:e.prev=18,e.prev=19,r||null==s.return||s.return();case 21:if(e.prev=21,!n){e.next=24;break}throw o;case 24:return e.finish(21);case 25:return e.finish(18);case 26:a.topicsData.length>0&&a.setState({showSearch:!0}),a.generateTopics(a.topicsData),e.next=31;break;case 30:a.setState({showErrorModal:!0,errorMessage:"Could not fetch topics. Try again later."});case 31:a.setState({showTopics:!0}),e.next=35;break;case 34:a.setState({showTopics:!1});case 35:case"end":return e.stop()}}),e,null,[[10,14,18,26],[19,,21,25]])}))),a.updateFields=function(){var e=a.searchForm.current.value.toUpperCase(),t=[];for(var r in a.topicsData){a.topicsData[r].name.toUpperCase().includes(e)&&t.push(a.topicsData[r])}a.generateTopics(t)},a.generateTopics=function(e){a.topicsUI=[];var t=!0,r=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=o.value;a.topicsUI.push(l.a.createElement(W,{name:c.name,id:c.ID,isCompany:!0,deleteFromTopicData:a.deleteFromTopicData,key:c.ID}))}}catch(i){r=!0,n=i}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}a.setState({})},a.addTopic=function(e,t){a.topicsData.push({name:e,ID:t}),a.topicsUI.push(l.a.createElement(W,{name:e,id:t,isCompany:!0,deleteFromTopicData:a.deleteFromTopicData,key:t})),a.setState({showSearch:!0})},a.createTopic=Object(F.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.nameForm.current.value){e.next=3;break}return a.postModal.current.notifyEmptyText("Oops! Please provide a name for the topic."),e.abrupt("return");case 3:return e.next=5,a.state.apiHelper.postTopic(a.nameForm.current.value,a.props.accessCode);case 5:(t=e.sent).error?a.setState({showErrorModal:!0,errorMessage:"Could not create topic. Try again later."}):a.addTopic(a.nameForm.current.value,t.ID),a.showTopicModal();case 8:case"end":return e.stop()}}),e)}))),a.deleteForum=Object(F.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.apiHelper.deleteEvent(a.props.accessCode);case 2:e.sent?(a.props.deleteFromForumData(a.props.accessCode),a.setState({hideForum:!0})):a.setState({showErrorModal:!0,errorMessage:"Could not delete forum. Try again later."});case 4:case"end":return e.stop()}}),e)}))),a.showTopicModal=function(){a.setState({showTopicModal:!a.state.showTopicModal})},a.showConfirmationModal=function(){a.setState({showConfirmationModal:!a.state.showConfirmationModal})},a.showErrorModal=function(){a.setState({showErrorModal:!a.state.showErrorModal})},a.render=function(){return a.state.hideForum?l.a.createElement("div",null):l.a.createElement("div",null,l.a.createElement(g.a,{style:{width:"90%",textAlign:"center",margin:"auto",borderWidth:"1px",borderColor:"#AAA",borderStyle:"solid",fontSize:"20px",marginBottom:"10px"}},l.a.createElement(y.a,{style:{textAlign:"left"}},l.a.createElement("b",null,a.props.name)),l.a.createElement(y.a,{style:{textAlign:"right"}},l.a.createElement("b",null,"Access Code: ",a.props.accessCode)),l.a.createElement(y.a,{xs:1,style:{textAlign:"right"}},l.a.createElement("b",null,l.a.createElement(k.a,{className:"clearButton",onClick:a.showConfirmationModal},l.a.createElement("b",null,"Delete")))),l.a.createElement(y.a,{xs:1,style:{textAlign:"right"}},l.a.createElement("b",null,l.a.createElement(k.a,{className:"clearButton",onClick:a.getTopics},l.a.createElement("b",null,a.state.showTopics?"Close":"Expand"))))),l.a.createElement("div",{style:{display:a.state.showTopics?"":"none",width:"90%",margin:"auto",paddingLeft:"50px",marginBottom:"50px"}},l.a.createElement("div",{style:{marginLeft:"50px",paddingLeft:"5px"}},l.a.createElement(k.a,{className:"createAForumButton",onClick:a.showTopicModal},l.a.createElement("b",null,"Create A New Topic")),l.a.createElement(C.a,{className:"form",style:{display:a.state.showSearch?"":"none"}},l.a.createElement(C.a.Group,{controlId:"none"},l.a.createElement(C.a.Control,{ref:a.searchForm,className:"control",placeholder:"Search",type:"text",autoComplete:"nope",required:!0,onChange:a.updateFields,style:{width:"50%"}}))),l.a.createElement("div",{style:{marginTop:"20px"}},a.topicsUI))),l.a.createElement(P,{showModal:a.state.showTopicModal,hideModal:a.showTopicModal,title:"Create Topic",reference:a.nameForm,placeholder:"Topic Name",message:"Enter the topic's name below",create:a.createTopic,ref:a.postModal}),l.a.createElement(B,{showModal:a.state.showConfirmationModal,hideModal:a.showConfirmationModal,title:"Confirmation",message:"Are you sure you want to delete this forum?",delete:a.deleteForum,buttonTitle:"Yes!"}),l.a.createElement(T,{showModal:a.state.showErrorModal,hideModal:a.showErrorModal,message:a.state.errorMessage}))},a.searchForm=l.a.createRef(),a.nameForm=l.a.createRef(),a.postModal=l.a.createRef(),a.state={showTopics:!1,showTopicModal:!1,showConfirmationModal:!1,showErrorModal:!1,errorMessage:"",hideForum:!1,showSearch:!1,apiHelper:A.getInstance()},a.topicsData=[],a.topicsUI=[],a}return Object(s.a)(t,e),t}(l.a.Component),Y=function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(n.a)(this,Object(o.a)(t).call(this,e))).componentWillMount=Object(F.a)(M.a.mark((function e(){var t,a,r,n,o,c,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.state.apiHelper.getForums();case 2:if((t=e.sent).error){e.next=30;break}if(!(t.forums.length>0)){e.next=28;break}for(s.setState({showIntro:!1}),s.forumData=[],a=!0,r=!1,n=void 0,e.prev=10,o=t.forums[Symbol.iterator]();!(a=(c=o.next()).done);a=!0)l=c.value,s.forumData.push(l);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),r=!0,n=e.t0;case 18:e.prev=18,e.prev=19,a||null==o.return||o.return();case 21:if(e.prev=21,!r){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:s.forumData.length>0&&s.setState({showSearch:!0}),s.generateForums(s.forumData);case 28:e.next=31;break;case 30:s.setState({showErrorModal:!0,errorMessage:"Could not get forums. Try again later."});case 31:case"end":return e.stop()}}),e,null,[[10,14,18,26],[19,,21,25]])}))),s.deleteFromForumData=function(e){var t=[];for(var a in s.forumData){s.forumData[a].accessCode!==e&&t.push(s.forumData[a])}0===t.length&&s.setState({showSearch:!1,showIntro:!0}),s.forumData=t,s.generateForums(s.forumData)},s.updateFields=function(){var e=s.searchForm.current.value.toUpperCase(),t=[];for(var a in s.forumData){s.forumData[a].name.toUpperCase().includes(e)&&t.push(s.forumData[a])}s.generateForums(t)},s.generateForums=function(e){s.forumUI=[];var t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var c=n.value;s.forumUI.push(l.a.createElement(K,{name:c.name,accessCode:c.accessCode,deleteFromForumData:s.deleteFromForumData,key:c.accessCode}))}}catch(i){a=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}s.setState({})},s.addForum=function(e,t){s.forumData.push({name:e,accessCode:t}),s.forumUI.push(l.a.createElement(K,{name:e,accessCode:t,deleteFromForumData:s.deleteFromForumData,key:t})),s.setState({showSearch:!0})},s.createForum=Object(F.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==s.nameForm.current.value){e.next=3;break}return s.postModal.current.notifyEmptyText("Oops! Please provide a name for the forum."),e.abrupt("return");case 3:return e.next=5,s.state.apiHelper.postForum(s.nameForm.current.value);case 5:(t=e.sent).error?s.setState({showForumModal:!1,showErrorModal:!0,errorMessage:"Could not create forum. Try again later."}):(s.addForum(t.name,t.accessCode),s.setState({showIntro:!1,showForumModal:!1}));case 7:case"end":return e.stop()}}),e)}))),s.showForumModal=function(){s.setState({showForumModal:!s.state.showForumModal})},s.showErrorModal=function(){s.setState({showErrorModal:!s.state.showErrorModal})},s.render=function(){return l.a.createElement("div",{id:"corporateDash",style:{marginTop:"100px"}},l.a.createElement("div",{style:{display:s.state.showIntro?"":"none"}},l.a.createElement(E.a,{src:a(47),style:{width:"70vw",minWidth:"150px",maxWidth:"600px",textAlign:"center"}}),l.a.createElement("b",{style:{fontSize:"calc(3.8vw + 0.6rem)"}},l.a.createElement("br",null),"Welcome!",l.a.createElement("br",null)),l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"50%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"left",lineHeight:"1.2",maxWidth:"900px",marginBottom:"40px"}},"To get started, create a forum (e.g. a forum for your HR department). Once, the forum is created, you can share its access code with your employees. You can then create topics for the forum, where you can start the discussion."))),l.a.createElement(k.a,{className:"createAForumButton",onClick:s.showForumModal},l.a.createElement("b",null,"Create A Forum")),l.a.createElement(C.a,{className:"form",style:{display:s.state.showSearch?"":"none"}},l.a.createElement(C.a.Group,{controlId:"none"},l.a.createElement(C.a.Control,{ref:s.searchForm,className:"control",placeholder:"Search",type:"text",autoComplete:"nope",required:!0,onChange:s.updateFields,style:{width:"50%"}}))),l.a.createElement("div",{style:{marginTop:"20px"}},s.forumUI),l.a.createElement(P,{showModal:s.state.showForumModal,hideModal:s.showForumModal,title:"Create Forum",reference:s.nameForm,placeholder:"Forum Name",message:"Enter the forum's name below",create:s.createForum,ref:s.postModal}),l.a.createElement(T,{showModal:s.state.showErrorModal,hideModal:s.showErrorModal,message:s.state.errorMessage}))},s.nameForm=l.a.createRef(),s.searchForm=l.a.createRef(),s.postModal=l.a.createRef(),s.state={showForum:!0,showForumModal:!1,showErrorModal:!1,errorMessage:"",showIntro:!0,showSearch:!1,apiHelper:A.getInstance()},s.forumData=[],s.forumUI=[],s}return Object(s.a)(t,e),t}(l.a.Component),q=a(88),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).componentWillMount=Object(F.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.apiHelper.getPrivateFeedback();case 2:(t=e.sent).error?a.setState({showModal:!0,message:"Oops! Something went wrong!"}):a.generateFeedbackUI(t);case 4:case"end":return e.stop()}}),e)}))),a.renderTable=function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e))},a.generateMessageTable=function(e){return l.a.createElement("div",{style:{width:"100%",textAlign:"center",margin:"auto"}},l.a.createElement(q.a,{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Feedback"))),l.a.createElement("tbody",null,e.map(a.renderTable))))},a.generateFeedbackUI=function(e){var t=!0,r=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=o.value;a.feedback.push(l.a.createElement("div",{style:{marginTop:"40px"}},l.a.createElement("b",{style:{fontSize:"calc(1vw + 0.8rem)"}},c.forumName),a.generateMessageTable(c.messages)))}}catch(i){r=!0,n=i}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}a.setState({feedbackExists:!0}),e.length>0&&a.setState({feedbackExists:!0})},a.hideModal=function(){a.setState({showModal:!1})},a.render=function(){return l.a.createElement("div",{id:"corporateDash",style:{marginTop:"80px"}},l.a.createElement("div",{style:{display:a.state.feedbackExists?"none":""}},l.a.createElement("p",{style:{fontSize:"calc(0.6vw + 0.8rem)",width:"50%",margin:"auto",marginTop:"calc(1vw + 33.33px)",textAlign:"center",lineHeight:"1.2",maxWidth:"900px"}},"No private feedback has been submitted yet.")),l.a.createElement("div",{style:{display:a.state.feedbackExists?"":"none"}},a.feedback),l.a.createElement(T,{showModal:a.state.showModal,message:a.state.message,hideModal:a.hideModal}))},a.state={feedbackExists:!1,showModal:!1,message:"",apiHelper:A.getInstance()},a.feedback=[],a}return Object(s.a)(t,e),t}(l.a.Component),Z=(a(81),function(e){return function(t){function a(){var t;return Object(r.a)(this,a),(t=Object(n.a)(this,Object(o.a)(a).call(this))).periodicallyCheckToken=function(){fetch("/api/user/checkCompanyToken",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.error);t.setState({loading:!1})})).catch((function(e){t.setState({loading:!1,redirect:!0})}))},t.componentDidMount=function(){fetch("/api/user/checkCompanyToken",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.error);t.setState({loading:!1})})).catch((function(e){t.setState({loading:!1,redirect:!0})})),t.timerID=setInterval((function(){return t.periodicallyCheckToken()}),3e4)},t.render=function(){var a=t.state,r=a.loading,n=a.redirect;return r?null:n?l.a.createElement(p.a,{to:"/signIn"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(e,null))},t.state={loading:!0,redirect:!1},t}return Object(s.a)(a,t),a}(l.a.Component)}(function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).goToPrivateFeedback=function(){a.setState({showForum:!1})},a.goToForum=function(){a.setState({showForum:!0})},a.render=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(G,{goToPrivateFeedback:a.goToPrivateFeedback,goToForum:a.goToForum}),a.state.showForum?l.a.createElement(Y,null):l.a.createElement(J,null))},a.nameForm=l.a.createRef(),a.state={showForum:!0},a}return Object(s.a)(t,e),t}(l.a.Component)));a.d(t,"default",(function(){return V}));var V=function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(a=Object(n.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return d.isMobile?l.a.createElement("div",null,l.a.createElement("p",{style:{textAlign:"center",marginTop:"100px"}},l.a.createElement("b",null,"Aon Feedback")),l.a.createElement("p",{style:{textAlign:"center",marginTop:"100px"}},l.a.createElement("b",null,"Our mobile version is in progress!"))):l.a.createElement(m.a,null,l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/",component:function(){return l.a.createElement(v,null)}}),l.a.createElement(p.b,{exact:!0,path:"/home",component:function(){return l.a.createElement(v,null)}}),l.a.createElement(p.b,{exact:!0,path:"/access",component:function(){return l.a.createElement(O,null)}}),l.a.createElement(p.b,{exact:!0,path:"/signIn",component:function(){return l.a.createElement(j,null)}}),l.a.createElement(p.b,{exact:!0,path:"/signUp",component:function(){return l.a.createElement(I,null)}}),l.a.createElement(p.b,{exact:!0,path:"/accessDash",component:function(){return l.a.createElement(L,null)}}),l.a.createElement(p.b,{exact:!0,path:"/dashboard",component:function(){return l.a.createElement(Z,null)}})))},a}return Object(s.a)(t,e),t}(l.a.Component);u.a.render(l.a.createElement(V,null),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.b2565a1d.chunk.js.map